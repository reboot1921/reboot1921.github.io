<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>基于MybatisGenerator一键生成工程代码，重复性工作交给它准没错 - 红兔哥的博客</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="红兔哥的博客"><meta name="msapplication-TileImage" content="/img/image.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="红兔哥的博客"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="现在大多数的项目都是分多层结构，经典的如遵循MVC规范（Model-View-Controller），如果按照DDD领域模型设计可能会划分更多层，每一层需要创建多个类似模式的类文件和内容，包括类名、注释、属性、方法等，基于数据模型生成代码的插件和工具有很多，比如mybatis-plus、mybatis-generator、mybatisx等，当然市面上也有许多代码自动生成的产品，这些代码生成方式大"><meta property="og:type" content="blog"><meta property="og:title" content="基于MybatisGenerator一键生成工程代码，重复性工作交给它准没错"><meta property="og:url" content="https://reboot1921.github.io/2023/04/05/Java/%E5%9F%BA%E4%BA%8EMybatisGenerator%E4%B8%80%E9%94%AE%E7%94%9F%E6%88%90%E5%B7%A5%E7%A8%8B%E4%BB%A3%E7%A0%81%EF%BC%8C%E9%87%8D%E5%A4%8D%E6%80%A7%E5%B7%A5%E4%BD%9C%E4%BA%A4%E7%BB%99%E5%AE%83%E5%87%86%E6%B2%A1%E9%94%99/"><meta property="og:site_name" content="红兔哥的博客"><meta property="og:description" content="现在大多数的项目都是分多层结构，经典的如遵循MVC规范（Model-View-Controller），如果按照DDD领域模型设计可能会划分更多层，每一层需要创建多个类似模式的类文件和内容，包括类名、注释、属性、方法等，基于数据模型生成代码的插件和工具有很多，比如mybatis-plus、mybatis-generator、mybatisx等，当然市面上也有许多代码自动生成的产品，这些代码生成方式大"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/jpeg/26851474/1680693847532-5b79d4fd-818f-4c7a-a1c1-b954b80544f9.jpeg#averageHue=%231f3045&amp;clientId=u0b785895-18c6-4&amp;from=paste&amp;height=540&amp;id=ua2332f77&amp;originHeight=1080&amp;originWidth=1920&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=803671&amp;status=done&amp;style=none&amp;taskId=u1d4e18d9-66a2-411a-97c6-63770f7bc2f&amp;title=&amp;width=960"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680672415609-f8c765d5-a2ae-460f-99c3-dfb4c9719909.png#averageHue=%23202020&amp;clientId=ua437b34a-cb15-4&amp;from=paste&amp;height=301&amp;id=u6a2c1bd4&amp;originHeight=602&amp;originWidth=1374&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=158205&amp;status=done&amp;style=none&amp;taskId=u2b58d949-3a48-45df-b084-dd555b6c90b&amp;title=&amp;width=687"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680672744310-ef123e02-a897-422f-a549-fb1a68171303.png#averageHue=%231e1d1c&amp;clientId=ua437b34a-cb15-4&amp;from=paste&amp;height=421&amp;id=ubfbe90ca&amp;originHeight=842&amp;originWidth=852&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=100298&amp;status=done&amp;style=none&amp;taskId=u6072617c-2c1f-468d-b03f-09cb2f972f7&amp;title=&amp;width=426"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680674176927-0e51fff0-aa0c-4a01-a828-fb4893b09037.png#averageHue=%238c8881&amp;clientId=ua437b34a-cb15-4&amp;from=paste&amp;height=149&amp;id=ufc31d210&amp;originHeight=298&amp;originWidth=1538&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=100630&amp;status=done&amp;style=none&amp;taskId=ud8237cf9-6c34-4dc1-8002-9646211c39a&amp;title=&amp;width=769"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680677226696-c1848363-9b46-49e1-b97b-65bfcc406b32.png#averageHue=%231d1d1d&amp;clientId=ua437b34a-cb15-4&amp;from=paste&amp;height=640&amp;id=u24653057&amp;originHeight=1280&amp;originWidth=818&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=159729&amp;status=done&amp;style=none&amp;taskId=uf33bc6dd-07e6-4896-a19e-9e21c1eaa95&amp;title=&amp;width=409"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680677038800-627a1c6a-53b9-4cd7-b208-d6dd0d6f76c9.png#averageHue=%23181717&amp;clientId=ua437b34a-cb15-4&amp;from=paste&amp;height=766&amp;id=ubffca90c&amp;originHeight=1532&amp;originWidth=2056&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=284459&amp;status=done&amp;style=none&amp;taskId=ua7e48ca5-281f-460d-969f-72a80b4d904&amp;title=&amp;width=1028"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680686024159-8eb5eb30-d4a3-46a6-bf4f-0e1b2c9ad6d6.png#averageHue=%231d1d1c&amp;clientId=u981150c8-d087-4&amp;from=paste&amp;height=482&amp;id=u86661994&amp;originHeight=964&amp;originWidth=814&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=114812&amp;status=done&amp;style=none&amp;taskId=u6a8da3c6-8557-4ecc-af08-534e75500dd&amp;title=&amp;width=407"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680686075440-b70f9dac-dd5c-430c-98db-f4dbb4c21f0c.png#averageHue=%23181817&amp;clientId=u981150c8-d087-4&amp;from=paste&amp;height=667&amp;id=u92ff97c5&amp;originHeight=1334&amp;originWidth=1314&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=178261&amp;status=done&amp;style=none&amp;taskId=u66b7985f-95d5-4b9d-bba9-fd6ebb8c73c&amp;title=&amp;width=657"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680686120424-1ed327b0-7bff-4c2f-b0bf-c1a4b7c60ef9.png#averageHue=%231a1918&amp;clientId=u981150c8-d087-4&amp;from=paste&amp;height=286&amp;id=u1a85c2fe&amp;originHeight=572&amp;originWidth=1738&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=119634&amp;status=done&amp;style=none&amp;taskId=u550542dc-22d1-4079-9ae2-0b7252463c9&amp;title=&amp;width=869"><meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680686152035-09b20b53-bec0-47d0-83bf-88d2e2901bc6.png#averageHue=%231b1918&amp;clientId=u981150c8-d087-4&amp;from=paste&amp;height=365&amp;id=u7c0d75b1&amp;originHeight=730&amp;originWidth=1450&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=153375&amp;status=done&amp;style=none&amp;taskId=u2424a95d-d967-48f7-84b6-bcb7117672e&amp;title=&amp;width=725"><meta property="article:published_time" content="2023-04-05T11:24:00.000Z"><meta property="article:modified_time" content="2023-04-05T11:24:00.000Z"><meta property="article:author" content="红兔哥"><meta property="article:tag" content="JAVA"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://cdn.nlark.com/yuque/0/2023/jpeg/26851474/1680693847532-5b79d4fd-818f-4c7a-a1c1-b954b80544f9.jpeg#averageHue=%231f3045&amp;clientId=u0b785895-18c6-4&amp;from=paste&amp;height=540&amp;id=ua2332f77&amp;originHeight=1080&amp;originWidth=1920&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=803671&amp;status=done&amp;style=none&amp;taskId=u1d4e18d9-66a2-411a-97c6-63770f7bc2f&amp;title=&amp;width=960"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://reboot1921.github.io/2023/04/05/Java/%E5%9F%BA%E4%BA%8EMybatisGenerator%E4%B8%80%E9%94%AE%E7%94%9F%E6%88%90%E5%B7%A5%E7%A8%8B%E4%BB%A3%E7%A0%81%EF%BC%8C%E9%87%8D%E5%A4%8D%E6%80%A7%E5%B7%A5%E4%BD%9C%E4%BA%A4%E7%BB%99%E5%AE%83%E5%87%86%E6%B2%A1%E9%94%99/"},"headline":"基于MybatisGenerator一键生成工程代码，重复性工作交给它准没错","image":[],"datePublished":"2023-04-05T11:24:00.000Z","dateModified":"2023-04-05T11:24:00.000Z","author":{"@type":"Person","name":"红兔哥"},"publisher":{"@type":"Organization","name":"红兔哥的博客","logo":{"@type":"ImageObject","url":"https://reboot1921.github.io/img/image.png"}},"description":"现在大多数的项目都是分多层结构，经典的如遵循MVC规范（Model-View-Controller），如果按照DDD领域模型设计可能会划分更多层，每一层需要创建多个类似模式的类文件和内容，包括类名、注释、属性、方法等，基于数据模型生成代码的插件和工具有很多，比如mybatis-plus、mybatis-generator、mybatisx等，当然市面上也有许多代码自动生成的产品，这些代码生成方式大"}</script><link rel="canonical" href="https://reboot1921.github.io/2023/04/05/Java/%E5%9F%BA%E4%BA%8EMybatisGenerator%E4%B8%80%E9%94%AE%E7%94%9F%E6%88%90%E5%B7%A5%E7%A8%8B%E4%BB%A3%E7%A0%81%EF%BC%8C%E9%87%8D%E5%A4%8D%E6%80%A7%E5%B7%A5%E4%BD%9C%E4%BA%A4%E7%BB%99%E5%AE%83%E5%87%86%E6%B2%A1%E9%94%99/"><link rel="icon" href="/img/image.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/image.png" alt="红兔哥的博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">时间线</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于我</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-05T11:24:00.000Z" title="4/5/2023, 7:24:00 PM">2023-04-05</time>发表</span><span class="level-item"><time dateTime="2023-04-05T11:24:00.000Z" title="4/5/2023, 7:24:00 PM">2023-04-05</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="level-item">24 分钟读完 (大约3635个字)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">基于MybatisGenerator一键生成工程代码，重复性工作交给它准没错</h1><div class="content"><p><img src="https://cdn.nlark.com/yuque/0/2023/jpeg/26851474/1680693847532-5b79d4fd-818f-4c7a-a1c1-b954b80544f9.jpeg#averageHue=%231f3045&clientId=u0b785895-18c6-4&from=paste&height=540&id=ua2332f77&originHeight=1080&originWidth=1920&originalType=binary&ratio=2&rotation=0&showTitle=false&size=803671&status=done&style=none&taskId=u1d4e18d9-66a2-411a-97c6-63770f7bc2f&title=&width=960" referrerpolicy="no-referrer" alt="8bd0aa4b09f4da0da562be8d50542b01.jpg"><br />现在大多数的项目都是分<code>多层结构</code>，经典的如遵循MVC规范（Model-View-Controller），如果按照DDD领域模型设计可能会划分更多层，每一层需要创建多个类似模式的类文件和内容，包括类名、注释、属性、方法等，基于数据模型生成代码的插件和工具有很多，比如mybatis-plus、mybatis-generator、mybatisx等，当然市面上也有许多代码自动生成的产品，这些代码生成方式大部分都是生成固定文件结构，但是大多公司一般有自己的一套框架结构或者重新设计的分层结构，这个时候就需要自定义代码生成文件格式，包括生成文件位置和内容格式，今天为大家带来基于<code>mybatis-generator</code>插件的方式实现自定义代码结构，更好的适配现有代码工程。<br><a name="ULETg"></a></p>
<span id="more"></span>
<h1 id="基础配置"><a href="#基础配置" class="headerlink" title="基础配置"></a>基础配置</h1><p>基于插件基本功能生成的代码，包括<code>Do.java</code>、<code>Example.java</code>、<code>Mapper.java</code>、<code>Mapper.xml</code>文件，其中生成内容没有对应的注释信息，或者配置生成的配置信息不够人性化，基本无用。<br><a name="gvBx6"></a></p>
<h2 id="插件配置"><a href="#插件配置" class="headerlink" title="插件配置"></a>插件配置</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.32<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 输出详细信息 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">verbose</span>&gt;</span>true<span class="tag">&lt;/<span class="name">verbose</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 覆盖生成的类文件 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">overwrite</span>&gt;</span>true<span class="tag">&lt;/<span class="name">overwrite</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 定义配置文件 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configurationFile</span>&gt;</span>$&#123;basedir&#125;/src/main/resources/generator-configuration.xml<span class="tag">&lt;/<span class="name">configurationFile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>配置<code>Maven插件</code>，可以比较容易的触发生成代码。<br /><img src="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680672415609-f8c765d5-a2ae-460f-99c3-dfb4c9719909.png#averageHue=%23202020&clientId=ua437b34a-cb15-4&from=paste&height=301&id=u6a2c1bd4&originHeight=602&originWidth=1374&originalType=binary&ratio=2&rotation=0&showTitle=false&size=158205&status=done&style=none&taskId=u2b58d949-3a48-45df-b084-dd555b6c90b&title=&width=687" referrerpolicy="no-referrer" alt="image.png"><br><a name="K4vos"></a></p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置生成的文件适用于哪个Mybatis 版本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;default&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 生成RowBounds方法 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.RowBoundsPlugin&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 覆盖XML Mapper文件，POM文件中配置的是Class文件覆盖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 旨在创建class时，对注释进行控制 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressDate&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否去除自动生成的注释 true:是 false:否 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressAllComments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- jdbc的数据库连接 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/code_gen?useSSL=false&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 非必须，类型处理器，在数据库类型和java类型之间的转换控制，默认情况下数据库中的decimal,bigint在Java对应是sql下的BigDecimal类 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 使用常用的基本类型代替sql包下的引用类型 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;forceBigDecimals&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 生成的实体类所在的包 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.example.codegen.domain&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否允许子包 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否清理从数据库中查询出的字符串左右两边的空白字符 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 生成的mapper xml文件的包和位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/resources&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 针对数据库的一个配置，是否把schema作为字包名 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 生成的mapper class文件的包和位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.example.codegen.mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 表配置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;system_users&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;SystemUsersDo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>配置注释信息写的比较清楚，这里给出部分配置信息，能够满足大部分需求，如有特殊需求可以参考 <a target="_blank" rel="noopener" href="http://mybatis.org/generator/configreference/xmlconfig.html">官方文档</a>。<br><a name="N6A3q"></a></p>
<h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><p><code>**生成代码总览**</code><strong>，</strong>具体生成内容介于文章内容就不做展示，大家可以实际配置生成。<br /><img src="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680672744310-ef123e02-a897-422f-a549-fb1a68171303.png#averageHue=%231e1d1c&clientId=ua437b34a-cb15-4&from=paste&height=421&id=ubfbe90ca&originHeight=842&originWidth=852&originalType=binary&ratio=2&rotation=0&showTitle=false&size=100298&status=done&style=none&taskId=u6072617c-2c1f-468d-b03f-09cb2f972f7&title=&width=426" referrerpolicy="no-referrer" alt="image.png"><br><a name="KtDvB"></a></p>
<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>进入正题配置我们的自定义插件配置，基于<code>MybatisGenerator</code>提供的上下文信息可以方便的获取到<code>元数据</code>信息，自定义插件有两种解决方案：</p>
<ol>
<li>在项目工程中定义插件，执行生成代码可以动态加载对应的插件；</li>
<li>基于MybatisGenerator核心包修改，<code>不侵入项目工程</code>，可以方便的分享给其他人使用；</li>
</ol>
<p>当然，本篇文章主要介绍基于MybatisGenerator核心包修改的方式，简单在GitHub上边搜索mybatis-generator-core发现魔改项目还挺多，接下来实际进行操作。<br><a name="PXt9y"></a></p>
<h2 id="拉取核心包"><a href="#拉取核心包" class="headerlink" title="拉取核心包"></a>拉取核心包</h2><p>可以从GitHub直接拉取魔改的仓库，或者直接<code>下载源码解压</code>，我这里直接从仓库中找到源码并解压，mybatis-generator-core-1.4.2-sources。<br /><img src="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680674176927-0e51fff0-aa0c-4a01-a828-fb4893b09037.png#averageHue=%238c8881&clientId=ua437b34a-cb15-4&from=paste&height=149&id=ufc31d210&originHeight=298&originWidth=1538&originalType=binary&ratio=2&rotation=0&showTitle=false&size=100630&status=done&style=none&taskId=ud8237cf9-6c34-4dc1-8002-9646211c39a&title=&width=769" referrerpolicy="no-referrer" alt="image.png"><br><a name="jvtBr"></a></p>
<h2 id="导入工程"><a href="#导入工程" class="headerlink" title="导入工程"></a>导入工程</h2><ul>
<li>将源码包移动到<code>/src/main/java</code>中；</li>
<li>从&#x2F;META-INF&#x2F;maven&#x2F;org.mybatis.generator&#x2F;mybatis-generator-core中将pom.xml文件<code>复制</code>一份出来放到根目录下并删除部分内容；</li>
<li><code>修改坐标</code>，groupId或者artifactId都是可以的；<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.local.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.20.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.ant<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ant<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.10.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-params<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.assertj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>assertj-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.24.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hsqldb<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hsqldb<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.javaparser<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javaparser-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.25.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.jetbrains.kotlin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>kotlin-stdlib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
其中依赖版本从<code>parent</code>获取，配置完成后移除parent，配置完成后注意执行<code>mvn clean install</code>操作，将包<code>install到仓库中</code>。<br /><img src="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680677226696-c1848363-9b46-49e1-b97b-65bfcc406b32.png#averageHue=%231d1d1d&clientId=ua437b34a-cb15-4&from=paste&height=640&id=u24653057&originHeight=1280&originWidth=818&originalType=binary&ratio=2&rotation=0&showTitle=false&size=159729&status=done&style=none&taskId=uf33bc6dd-07e6-4896-a19e-9e21c1eaa95&title=&width=409" referrerpolicy="no-referrer" alt="image.png"><br><a name="zRqa3"></a></li>
</ul>
<h2 id="工程依赖自定义插件"><a href="#工程依赖自定义插件" class="headerlink" title="工程依赖自定义插件"></a>工程依赖自定义插件</h2><p><img src="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680677038800-627a1c6a-53b9-4cd7-b208-d6dd0d6f76c9.png#averageHue=%23181717&clientId=ua437b34a-cb15-4&from=paste&height=766&id=ubffca90c&originHeight=1532&originWidth=2056&originalType=binary&ratio=2&rotation=0&showTitle=false&size=284459&status=done&style=none&taskId=ua7e48ca5-281f-460d-969f-72a80b4d904&title=&width=1028" referrerpolicy="no-referrer" alt="image.png"><br />依赖自定义的工程包，groupId和artifactId可以自行修改，我这里未变更，仅<code>修改版本号</code>为1.0.0，执行生成代码查看效果，我这里执行无任何变化，需要注意的是一定需要修改坐标，不然可能遇到执行出现null的情况，目测是插件执行过程中验证了某些信息。<br><a name="A4w42"></a></p>
<h1 id="自定义插件"><a href="#自定义插件" class="headerlink" title="自定义插件"></a>自定义插件</h1><p>说了一堆前置条件，终于到了文章的重点，自定义插件逻辑实现，本篇文章主要介绍<code>定制化Mapper.java</code>、实体注释优化、Service.java生成逻辑，可以参考生成更多内容，如Controller.java、Manager.java等等，生成逻辑都是相似的几乎可以CV CV CV，一个分层结构插件可能存在比较多的上下文，为了方便按照层拆分插件数量。</p>
<ul>
<li>JavaMapperPlugin插件：主要<code>定制化基础插件</code>功能生成的Do.java、Mapper.java文件；</li>
<li>ServicePluginc插件：生成<code>Model.java</code>、<code>Convertor.java</code>、<code>Service.java</code>、<code>ServiceImpl.java</code>文件；<br><a name="FE0aV"></a></li>
</ul>
<h2 id="添加配置"><a href="#添加配置" class="headerlink" title="添加配置"></a>添加配置</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置生成的文件适用于哪个Mybatis 版本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;default&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 自定义全局属性，根据实际情况进行修改 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> <span class="attr">value</span>=<span class="string">&quot;reboot&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;baseProject&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/Users/xx/Codes/IdeaProjects/Demos/code-gen&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 生成RowBounds方法 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.RowBoundsPlugin&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 覆盖XML Mapper文件，POM文件中配置的是Class文件覆盖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 自定义插件，Mapper生成、扩展添加注释、使用通用接口 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.custom.JavaMapperPlugin&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 自定义插件，Service生成 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.custom.ServicePlugin&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 旨在创建class时，对注释进行控制 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressDate&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否去除自动生成的注释 true:是 false:否 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressAllComments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- jdbc的数据库连接 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/code_gen?useSSL=false&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 非必须，类型处理器，在数据库类型和java类型之间的转换控制，默认情况下数据库中的decimal,bigint在Java对应是sql下的BigDecimal类 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 使用常用的基本类型代替sql包下的引用类型 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;forceBigDecimals&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 生成的实体类所在的包 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.example.codegen.domain&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否允许子包 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否清理从数据库中查询出的字符串左右两边的空白字符 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 生成的mapper xml文件的包和位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/resources&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 针对数据库的一个配置，是否把schema作为字包名 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 生成的mapper class文件的包和位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.example.codegen.mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 表配置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;system_users&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;SystemUsersDo&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;comment&quot;</span> <span class="attr">value</span>=<span class="string">&quot;系统用户&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">generatedKey</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">sqlStatement</span>=<span class="string">&quot;Mysql&quot;</span> <span class="attr">identity</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>修改点如下：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 自定义全局属性，根据实际情况进行修改 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> <span class="attr">value</span>=<span class="string">&quot;reboot&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;baseProject&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/Users/xx/Codes/IdeaProjects/Demos/code-gen&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 自定义插件，Mapper生成、扩展添加注释、使用通用接口 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.custom.JavaMapperPlugin&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 自定义插件，Service生成 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.custom.ServicePlugin&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 表配置，其中comment属性为自定义添加 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;system_users&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;SystemUsersDo&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;comment&quot;</span> <span class="attr">value</span>=<span class="string">&quot;系统用户&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">generatedKey</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">sqlStatement</span>=<span class="string">&quot;Mysql&quot;</span> <span class="attr">identity</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><a name="xi0Ie"></a></p>
<h2 id="JavaMapperPlugin插件"><a href="#JavaMapperPlugin插件" class="headerlink" title="JavaMapperPlugin插件"></a>JavaMapperPlugin插件</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.mybatis.generator.plugins.custom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.GeneratedJavaFile;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.IntrospectedTable;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.PluginAdapter;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.DefaultJavaFormatter;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.FullyQualifiedJavaType;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.Interface;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.JavaVisibility;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.TopLevelClass;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * JavaMapper插件</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> reboot</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JavaMapperPlugin</span> <span class="keyword">extends</span> <span class="title class_">PluginAdapter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; warnings;</span><br><span class="line">    <span class="keyword">private</span> String       tableComment;</span><br><span class="line">    <span class="keyword">private</span> String       author;</span><br><span class="line">    <span class="keyword">private</span> String       baseProject;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">MAPPER_BASE</span>    <span class="operator">=</span> <span class="string">&quot;/src/main/java&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">MAPPER_PACKAGE</span> <span class="operator">=</span> <span class="string">&quot;com.example.codegen.mapper&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validate</span><span class="params">(List&lt;String&gt; warnings)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.warnings = warnings;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;GeneratedJavaFile&gt; <span class="title function_">contextGenerateAdditionalJavaFiles</span><span class="params">(IntrospectedTable introspectedTable)</span> &#123;</span><br><span class="line">        tableComment = introspectedTable.getTableConfigurationProperty(<span class="string">&quot;comment&quot;</span>);</span><br><span class="line">        author = introspectedTable.getContext().getProperty(<span class="string">&quot;author&quot;</span>);</span><br><span class="line">        baseProject = introspectedTable.getContext().getProperty(<span class="string">&quot;baseProject&quot;</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;GeneratedJavaFile&gt; javaFiles = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// DO</span></span><br><span class="line">        javaFiles.add(generateDoFile(introspectedTable));</span><br><span class="line">        <span class="comment">// Mapper</span></span><br><span class="line">        javaFiles.add(generateMapperFile(introspectedTable));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> javaFiles;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成DO文件</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> introspectedTable 表信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> GeneratedJavaFile&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> GeneratedJavaFile <span class="title function_">generateDoFile</span><span class="params">(IntrospectedTable introspectedTable)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">fullDoName</span> <span class="operator">=</span> introspectedTable.getBaseRecordType();</span><br><span class="line">        <span class="type">String</span> <span class="variable">doName</span> <span class="operator">=</span> PluginUtils.getClassName(fullDoName);</span><br><span class="line"></span><br><span class="line">        PluginUtils.fileExistCheck(fullDoName, baseProject + MAPPER_BASE, warnings);</span><br><span class="line"></span><br><span class="line">        <span class="type">TopLevelClass</span> <span class="variable">doTopLevelClass</span> <span class="operator">=</span> PluginUtils.generateEntity(introspectedTable, <span class="built_in">this</span>.context, fullDoName,</span><br><span class="line">                PluginUtils.classDoc(tableComment + <span class="string">&quot;数据模型&quot;</span>, doName, author));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">GeneratedJavaFile</span>(doTopLevelClass, baseProject + MAPPER_BASE, <span class="keyword">new</span> <span class="title class_">DefaultJavaFormatter</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成Mapper文件</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> introspectedTable 表信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> GeneratedJavaFile&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> GeneratedJavaFile <span class="title function_">generateMapperFile</span><span class="params">(IntrospectedTable introspectedTable)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">fullDoName</span> <span class="operator">=</span> introspectedTable.getBaseRecordType();</span><br><span class="line">        <span class="type">String</span> <span class="variable">doName</span> <span class="operator">=</span> PluginUtils.getClassName(fullDoName);</span><br><span class="line">        <span class="type">String</span> <span class="variable">mapperName</span> <span class="operator">=</span> doName + <span class="string">&quot;Mapper&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">fullMapperName</span> <span class="operator">=</span> MAPPER_PACKAGE + <span class="string">&quot;.&quot;</span> + mapperName;</span><br><span class="line">        <span class="type">String</span> <span class="variable">exampleName</span> <span class="operator">=</span> doName + <span class="string">&quot;Example&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">fullExampleName</span> <span class="operator">=</span> fullDoName + <span class="string">&quot;Example&quot;</span>;</span><br><span class="line"></span><br><span class="line">        PluginUtils.fileExistCheck(fullMapperName, baseProject + MAPPER_BASE, warnings);</span><br><span class="line"></span><br><span class="line">        <span class="type">Interface</span> <span class="variable">baseMapperInterface</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Interface</span>(<span class="keyword">new</span> <span class="title class_">FullyQualifiedJavaType</span>(fullMapperName));</span><br><span class="line">        baseMapperInterface.addFileCommentLine(PluginUtils.fileComment());</span><br><span class="line">        baseMapperInterface.setVisibility(JavaVisibility.PUBLIC);</span><br><span class="line">        baseMapperInterface.addJavaDocLine(PluginUtils.classDoc(tableComment + <span class="string">&quot;Mapper&quot;</span>, mapperName, author));</span><br><span class="line">        baseMapperInterface.addSuperInterface(<span class="keyword">new</span> <span class="title class_">FullyQualifiedJavaType</span>(<span class="string">&quot;BaseMapper&lt;&quot;</span> + doName + <span class="string">&quot;,&quot;</span> + exampleName + <span class="string">&quot;&gt;&quot;</span>));</span><br><span class="line"></span><br><span class="line">        baseMapperInterface.addImportedType(<span class="keyword">new</span> <span class="title class_">FullyQualifiedJavaType</span>(<span class="string">&quot;com.example.codegen.mapper.BaseMapper&quot;</span>));</span><br><span class="line">        baseMapperInterface.addImportedType(<span class="keyword">new</span> <span class="title class_">FullyQualifiedJavaType</span>(fullDoName));</span><br><span class="line">        baseMapperInterface.addImportedType(<span class="keyword">new</span> <span class="title class_">FullyQualifiedJavaType</span>(fullExampleName));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">GeneratedJavaFile</span>(baseMapperInterface, baseProject + MAPPER_BASE, <span class="keyword">new</span> <span class="title class_">DefaultJavaFormatter</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="w4mZu"></a></p>
<h2 id="ServicePluginc插件"><a href="#ServicePluginc插件" class="headerlink" title="ServicePluginc插件"></a>ServicePluginc插件</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.mybatis.generator.plugins.custom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.GeneratedJavaFile;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.IntrospectedTable;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.PluginAdapter;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.DefaultJavaFormatter;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.Field;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.FullyQualifiedJavaType;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.JavaVisibility;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.TopLevelClass;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.internal.util.JavaBeansUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Service插件</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> reboot</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServicePlugin</span> <span class="keyword">extends</span> <span class="title class_">PluginAdapter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; warnings;</span><br><span class="line">    <span class="keyword">private</span> String       tableComment;</span><br><span class="line">    <span class="keyword">private</span> String       author;</span><br><span class="line">    <span class="keyword">private</span> String       baseProject;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SERVICE_BASE</span>    <span class="operator">=</span> <span class="string">&quot;/src/main/java&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SERVICE_PACKAGE</span> <span class="operator">=</span> <span class="string">&quot;com.example.codegen.service&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">MAPPER_PACKAGE</span>  <span class="operator">=</span> <span class="string">&quot;com.example.codegen.mapper&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validate</span><span class="params">(List&lt;String&gt; warnings)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.warnings = warnings;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;GeneratedJavaFile&gt; <span class="title function_">contextGenerateAdditionalJavaFiles</span><span class="params">(IntrospectedTable introspectedTable)</span> &#123;</span><br><span class="line">        tableComment = introspectedTable.getTableConfigurationProperty(<span class="string">&quot;comment&quot;</span>);</span><br><span class="line">        author = introspectedTable.getContext().getProperty(<span class="string">&quot;author&quot;</span>);</span><br><span class="line">        baseProject = introspectedTable.getContext().getProperty(<span class="string">&quot;baseProject&quot;</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;GeneratedJavaFile&gt; javaFiles = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// Service</span></span><br><span class="line">        javaFiles.add(generateServiceFile(introspectedTable));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> javaFiles;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成Service文件</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> introspectedTable 表信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> GeneratedJavaFile&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> GeneratedJavaFile <span class="title function_">generateServiceFile</span><span class="params">(IntrospectedTable introspectedTable)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">fullDoName</span> <span class="operator">=</span> introspectedTable.getBaseRecordType();</span><br><span class="line">        <span class="type">String</span> <span class="variable">doName</span> <span class="operator">=</span> PluginUtils.getClassName(fullDoName);</span><br><span class="line">        <span class="type">String</span> <span class="variable">serviceName</span> <span class="operator">=</span> doName.replace(<span class="string">&quot;Do&quot;</span>, <span class="string">&quot;Service&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">fullServiceName</span> <span class="operator">=</span> SERVICE_PACKAGE + <span class="string">&quot;.&quot;</span> + serviceName;</span><br><span class="line">        <span class="type">String</span> <span class="variable">mapperName</span> <span class="operator">=</span> doName + <span class="string">&quot;Mapper&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">fullMapperName</span> <span class="operator">=</span> MAPPER_PACKAGE + <span class="string">&quot;.&quot;</span> + mapperName;</span><br><span class="line"></span><br><span class="line">        PluginUtils.fileExistCheck(fullServiceName, baseProject + SERVICE_PACKAGE, warnings);</span><br><span class="line"></span><br><span class="line">        <span class="type">TopLevelClass</span> <span class="variable">serviceTopLevelClass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TopLevelClass</span>(fullServiceName);</span><br><span class="line">        serviceTopLevelClass.addFileCommentLine(PluginUtils.fileComment());</span><br><span class="line">        serviceTopLevelClass.setVisibility(JavaVisibility.PUBLIC);</span><br><span class="line">        serviceTopLevelClass.addJavaDocLine(PluginUtils.classDoc(tableComment + <span class="string">&quot;领域服务实现&quot;</span>, serviceName, author));</span><br><span class="line">        serviceTopLevelClass.addAnnotation(<span class="string">&quot;@Component&quot;</span>);</span><br><span class="line">        <span class="type">Field</span> <span class="variable">mapperField</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Field</span>(JavaBeansUtil.getValidPropertyName(mapperName), <span class="keyword">new</span> <span class="title class_">FullyQualifiedJavaType</span>(mapperName));</span><br><span class="line">        mapperField.setVisibility(JavaVisibility.PUBLIC);</span><br><span class="line">        mapperField.addAnnotation(<span class="string">&quot;@Autowired&quot;</span>);</span><br><span class="line">        serviceTopLevelClass.addField(mapperField);</span><br><span class="line"></span><br><span class="line">        serviceTopLevelClass.addImportedType(<span class="string">&quot;org.springframework.stereotype.Component&quot;</span>);</span><br><span class="line">        serviceTopLevelClass.addImportedType(<span class="string">&quot;org.springframework.beans.factory.annotation.Autowired&quot;</span>);</span><br><span class="line">        serviceTopLevelClass.addImportedType(fullMapperName);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">GeneratedJavaFile</span>(serviceTopLevelClass, baseProject + SERVICE_BASE, <span class="keyword">new</span> <span class="title class_">DefaultJavaFormatter</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="Z55v5"></a></p>
<h2 id="抽取通用工具"><a href="#抽取通用工具" class="headerlink" title="抽取通用工具"></a>抽取通用工具</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.mybatis.generator.plugins.custom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.IntrospectedColumn;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.IntrospectedTable;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.Field;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.JavaVisibility;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.dom.java.TopLevelClass;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.config.Context;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.internal.util.JavaBeansUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.time.format.DateTimeFormatter;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 插件工具类</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> reboot</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PluginUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文件存在性检查</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fullName 全名</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> basePath 基本路径</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> warnings 警告</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fileExistCheck</span><span class="params">(String fullName, String basePath, List&lt;String&gt; warnings)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> String.join(File.separator, basePath, fullName.replace(<span class="string">&quot;.&quot;</span>, File.separator), <span class="string">&quot;.java&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">new</span> <span class="title class_">File</span>(path).exists()) &#123;</span><br><span class="line">            warnings.add(<span class="string">&quot;java file&quot;</span> + fullName + <span class="string">&quot; already exists in &quot;</span> + basePath + <span class="string">&quot; and will be overridden.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取类名</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> recordType 记录类型</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> String&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getClassName</span><span class="params">(String recordType)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> recordType.substring(recordType.lastIndexOf(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文件注释，自行实现</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> String&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">fileComment</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/* 文件头 2023 */&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 类注释</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> remark    备注</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> className 类名</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> author    作者</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> String&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">classDoc</span><span class="params">(String remark, String className, String author)</span> &#123;</span><br><span class="line">        <span class="type">DateTimeFormatter</span> <span class="variable">dateTimeFormatter</span> <span class="operator">=</span> DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy年MM月dd日 HH:mm&quot;</span>);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">javaDoc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        javaDoc.append(<span class="string">&quot;/**\n&quot;</span>);</span><br><span class="line">        javaDoc.append(<span class="string">&quot; * &quot;</span> + remark + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        javaDoc.append(<span class="string">&quot; *\n&quot;</span>);</span><br><span class="line">        javaDoc.append(<span class="string">&quot; * @author &quot;</span> + author + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        javaDoc.append(<span class="string">&quot; * @version &quot;</span> + className + <span class="string">&quot;.java, v0.1 &quot;</span> + LocalDateTime.now().format(dateTimeFormatter) + <span class="string">&quot; &quot;</span> + author + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        javaDoc.append(<span class="string">&quot; */&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> javaDoc.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 属性注释</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> remark 备注</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> String&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">fieldDoc</span><span class="params">(String remark)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">fieldDoc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        fieldDoc.append(<span class="string">&quot;/**\n&quot;</span>);</span><br><span class="line">        fieldDoc.append(<span class="string">&quot;\t * &quot;</span> + remark);</span><br><span class="line">        fieldDoc.append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        fieldDoc.append(<span class="string">&quot;\t */&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> fieldDoc.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成实体</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> introspectedTable 表信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context           上下文</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fullName          全限定名</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> javaDoc           java注释</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> TopLevelClass&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> TopLevelClass <span class="title function_">generateEntity</span><span class="params">(IntrospectedTable introspectedTable, Context context, String fullName, String javaDoc)</span> &#123;</span><br><span class="line">        <span class="type">TopLevelClass</span> <span class="variable">topLevelClass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TopLevelClass</span>(fullName);</span><br><span class="line">        topLevelClass.addFileCommentLine(fileComment());</span><br><span class="line">        topLevelClass.setVisibility(JavaVisibility.PUBLIC);</span><br><span class="line">        topLevelClass.addAnnotation(<span class="string">&quot;@Data&quot;</span>);</span><br><span class="line">        topLevelClass.addImportedType(<span class="string">&quot;lombok.Data&quot;</span>);</span><br><span class="line">        topLevelClass.addJavaDocLine(javaDoc);</span><br><span class="line">        <span class="keyword">for</span> (IntrospectedColumn introspectedColumn : introspectedTable.getAllColumns()) &#123;</span><br><span class="line">            <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> JavaBeansUtil.getJavaBeansField(introspectedColumn, context, introspectedTable);</span><br><span class="line">            field.addJavaDocLine(fieldDoc(introspectedColumn.getRemarks()));</span><br><span class="line">            topLevelClass.addField(field);</span><br><span class="line">            topLevelClass.addImportedType(field.getType());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> topLevelClass;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="ORlCh"></a></p>
<h2 id="验证效果"><a href="#验证效果" class="headerlink" title="验证效果"></a>验证效果</h2><p><img src="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680686024159-8eb5eb30-d4a3-46a6-bf4f-0e1b2c9ad6d6.png#averageHue=%231d1d1c&clientId=u981150c8-d087-4&from=paste&height=482&id=u86661994&originHeight=964&originWidth=814&originalType=binary&ratio=2&rotation=0&showTitle=false&size=114812&status=done&style=none&taskId=u6a8da3c6-8557-4ecc-af08-534e75500dd&title=&width=407" referrerpolicy="no-referrer" alt="image.png"><br><a name="vfy0v"></a></p>
<h3 id="SystemUsersDo-java"><a href="#SystemUsersDo-java" class="headerlink" title="SystemUsersDo .java"></a>SystemUsersDo .java</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680686075440-b70f9dac-dd5c-430c-98db-f4dbb4c21f0c.png#averageHue=%23181817&clientId=u981150c8-d087-4&from=paste&height=667&id=u92ff97c5&originHeight=1334&originWidth=1314&originalType=binary&ratio=2&rotation=0&showTitle=false&size=178261&status=done&style=none&taskId=u66b7985f-95d5-4b9d-bba9-fd6ebb8c73c&title=&width=657" referrerpolicy="no-referrer" alt="image.png"><br><a name="Q4LK8"></a></p>
<h3 id="SystemUsersDoMapper-java"><a href="#SystemUsersDoMapper-java" class="headerlink" title="SystemUsersDoMapper .java"></a>SystemUsersDoMapper .java</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680686120424-1ed327b0-7bff-4c2f-b0bf-c1a4b7c60ef9.png#averageHue=%231a1918&clientId=u981150c8-d087-4&from=paste&height=286&id=u1a85c2fe&originHeight=572&originWidth=1738&originalType=binary&ratio=2&rotation=0&showTitle=false&size=119634&status=done&style=none&taskId=u550542dc-22d1-4079-9ae2-0b7252463c9&title=&width=869" referrerpolicy="no-referrer" alt="image.png"><br><a name="mUhME"></a></p>
<h3 id="SystemUsersService-java"><a href="#SystemUsersService-java" class="headerlink" title="SystemUsersService .java"></a>SystemUsersService .java</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/26851474/1680686152035-09b20b53-bec0-47d0-83bf-88d2e2901bc6.png#averageHue=%231b1918&clientId=u981150c8-d087-4&from=paste&height=365&id=u7c0d75b1&originHeight=730&originWidth=1450&originalType=binary&ratio=2&rotation=0&showTitle=false&size=153375&status=done&style=none&taskId=u2424a95d-d967-48f7-84b6-bcb7117672e&title=&width=725" referrerpolicy="no-referrer" alt="image.png"><br />Service这里仅仅举个例子，我写的插件生成内容比较简单，可以根据实际情况生成。<br><a name="pE1AK"></a></p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>虽说不建议重复造轮子，但是轮子没有那么好，就只好<code>基于轮子造轮子</code>了，上边的写法可能不是最好的，但是能满足项目工程总体框架结构，一般的后台系统生成基本的<code>CRUD功能</code>还是非常方便的，基于这种方式几乎项目中<code>相同模式</code>的代码都可以生成，不要让基础的功能浪费大量时间。</p>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/JAVA/">JAVA</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2023/05/20/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%8D%81%E5%88%86%E9%92%9F%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E5%A4%A7%E6%A8%A1%E5%9E%8BChatGML-6B/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">十分钟安装部署大模型ChatGML-6B</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2023/03/29/Java/Java8%20Stream%20%E6%8F%90%E9%AB%98%E7%BC%96%E7%A0%81%E6%95%88%E7%8E%87%EF%BC%8C%E6%97%A9%E7%82%B9%E4%B8%8B%E7%8F%AD/"><span class="level-item">Java8 Stream 提高编码效率，早点下班</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content" id="valine-thread"></div><script src="//cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine@1.4.16/dist/Valine.min.js"></script><script>new Valine({
            el: '#valine-thread',
            appId: "zNwY4jNqlXeyM9rRkR58CBaK-gzGzoHsz",
            appKey: "ZDSIoeaZdL2gpY90VmHA0yyl",
            
            avatar: "mm",
            avatarForce: false,
            meta: ["nick","mail","link"],
            pageSize: 10,
            lang: "zh-CN",
            visitor: false,
            highlight: true,
            recordIP: false,
            
            
            
            enableQQ: false,
            requiredFields: [],
        });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="红兔哥"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">红兔哥</p><p class="is-size-6 is-block">专注分享实用工具、后端技术等有趣的内容！</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>北京</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">30</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">16</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://juejin.cn/user/1838039171085928" target="_blank" rel="me noopener">关注</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Github" href="https://github.com/reboot1921"><i class="fab fa-github"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E5%88%86%E4%BA%AB/"><span class="level-start"><span class="level-item">分享</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%8D%9A%E5%AE%A2/"><span class="level-start"><span class="level-item">博客</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%A8%A1%E5%9E%8B/"><span class="level-start"><span class="level-item">大模型</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">工具</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%8A%80%E6%9C%AF/"><span class="level-start"><span class="level-item">技术</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%88%E7%8E%87/"><span class="level-start"><span class="level-item">效率</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%9D%A2%E8%AF%95/"><span class="level-start"><span class="level-item">面试</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/10/"><span class="level-start"><span class="level-item">十月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/09/"><span class="level-start"><span class="level-item">九月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/07/"><span class="level-start"><span class="level-item">七月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">六月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">五月 2024</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/05/"><span class="level-start"><span class="level-item">五月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/04/"><span class="level-start"><span class="level-item">四月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/03/"><span class="level-start"><span class="level-item">三月 2023</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">二月 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">一月 2023</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">四月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Github/"><span class="tag">Github</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IDEA/"><span class="tag">IDEA</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JAVA/"><span class="tag">JAVA</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MAC/"><span class="tag">MAC</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/maven/"><span class="tag">maven</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%90%8E%E7%AB%AF/"><span class="tag">后端</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/"><span class="tag">命令行</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8E%A5%E5%8F%A3/"><span class="tag">接口</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%90%AD%E5%BB%BA/"><span class="tag">搭建</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"><span class="tag">浏览器</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6/"><span class="tag">浏览器插件</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="tag">设计模式</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BE%93%E5%85%A5%E6%B3%95/"><span class="tag">输入法</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9D%A2%E8%AF%95/"><span class="tag">面试</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#基础配置"><span class="level-left"><span class="level-item">1</span><span class="level-item">基础配置</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#插件配置"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">插件配置</span></span></a></li><li><a class="level is-mobile" href="#配置文件"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">配置文件</span></span></a></li><li><a class="level is-mobile" href="#效果展示"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">效果展示</span></span></a></li></ul></li><li><a class="level is-mobile" href="#准备工作"><span class="level-left"><span class="level-item">2</span><span class="level-item">准备工作</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#拉取核心包"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">拉取核心包</span></span></a></li><li><a class="level is-mobile" href="#导入工程"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">导入工程</span></span></a></li><li><a class="level is-mobile" href="#工程依赖自定义插件"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">工程依赖自定义插件</span></span></a></li></ul></li><li><a class="level is-mobile" href="#自定义插件"><span class="level-left"><span class="level-item">3</span><span class="level-item">自定义插件</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#添加配置"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">添加配置</span></span></a></li><li><a class="level is-mobile" href="#JavaMapperPlugin插件"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">JavaMapperPlugin插件</span></span></a></li><li><a class="level is-mobile" href="#ServicePluginc插件"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">ServicePluginc插件</span></span></a></li><li><a class="level is-mobile" href="#抽取通用工具"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">抽取通用工具</span></span></a></li><li><a class="level is-mobile" href="#验证效果"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">验证效果</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#SystemUsersDo-java"><span class="level-left"><span class="level-item">3.5.1</span><span class="level-item">SystemUsersDo .java</span></span></a></li><li><a class="level is-mobile" href="#SystemUsersDoMapper-java"><span class="level-left"><span class="level-item">3.5.2</span><span class="level-item">SystemUsersDoMapper .java</span></span></a></li><li><a class="level is-mobile" href="#SystemUsersService-java"><span class="level-left"><span class="level-item">3.5.3</span><span class="level-item">SystemUsersService .java</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#总结"><span class="level-left"><span class="level-item">4</span><span class="level-item">总结</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/2024/10/03/%E5%B7%A5%E5%85%B7/%E5%88%A0%E9%99%A4MAC%E9%BB%98%E8%AE%A4%E8%BE%93%E5%85%A5%E6%B3%95ABC/"><img src="https://cdn.nlark.com/yuque/0/2024/png/26851474/1727963012554-d28754bb-543d-4a79-8da4-3cd762f9a634.png" referrerpolicy="no-referrer" alt="删除MAC默认输入法ABC"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-10-03T13:55:00.000Z">2024-10-03</time></p><p class="title"><a href="/2024/10/03/%E5%B7%A5%E5%85%B7/%E5%88%A0%E9%99%A4MAC%E9%BB%98%E8%AE%A4%E8%BE%93%E5%85%A5%E6%B3%95ABC/">删除MAC默认输入法ABC</a></p><p class="categories"><a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/09/01/%E6%95%88%E7%8E%87/%E6%95%88%E7%8E%87%E5%B0%8F%E7%AA%8D%E9%97%A8%EF%BC%9A%E5%BF%AB%E9%80%9F%E5%A4%8D%E5%88%BB%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AF%B7%E6%B1%82/"><img src="https://cdn.nlark.com/yuque/0/2024/png/26851474/1725179388361-246f72e9-2661-44f7-ad2a-730cab2e313f.png#averageHue=%23e6e4e3&amp;clientId=ud01d6704-aeab-4&amp;from=paste&amp;height=1138&amp;id=u4b995ed5&amp;originHeight=2276&amp;originWidth=3198&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=1095535&amp;status=done&amp;style=none&amp;taskId=u9fc1ad1e-6448-4244-bd83-603e81cf5ff&amp;title=&amp;width=1599" referrerpolicy="no-referrer" alt="效率小窍门：快速复刻浏览器请求"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-09-01T08:36:46.000Z">2024-09-01</time></p><p class="title"><a href="/2024/09/01/%E6%95%88%E7%8E%87/%E6%95%88%E7%8E%87%E5%B0%8F%E7%AA%8D%E9%97%A8%EF%BC%9A%E5%BF%AB%E9%80%9F%E5%A4%8D%E5%88%BB%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AF%B7%E6%B1%82/">效率小窍门：快速复刻浏览器请求</a></p><p class="categories"><a href="/categories/%E6%95%88%E7%8E%87/">效率</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/07/06/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E4%BB%85%E4%B8%80%E6%9D%A1%E5%91%BD%E4%BB%A4%E5%AE%89%E8%A3%85%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%B7%A5%E5%85%B7Ollama/"><img src="https://cdn.nlark.com/yuque/0/2024/png/26851474/1720278271661-25d02330-4584-4bb8-ac96-8345d1296a1f.png#averageHue=%23d3d3d3&amp;clientId=ub2981b7e-d01f-4&amp;from=paste&amp;height=357&amp;id=uc6c377b4&amp;originHeight=714&amp;originWidth=1558&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=92969&amp;status=done&amp;style=none&amp;taskId=u520eaef3-5732-45b3-945e-53af58ca3b5&amp;title=&amp;width=779" referrerpolicy="no-referrer" alt="仅一条命令安装大模型的工具Ollama"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-07-06T15:25:00.000Z">2024-07-06</time></p><p class="title"><a href="/2024/07/06/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E4%BB%85%E4%B8%80%E6%9D%A1%E5%91%BD%E4%BB%A4%E5%AE%89%E8%A3%85%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%B7%A5%E5%85%B7Ollama/">仅一条命令安装大模型的工具Ollama</a></p><p class="categories"><a href="/categories/%E5%A4%A7%E6%A8%A1%E5%9E%8B/">大模型</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/06/08/%E5%B7%A5%E5%85%B7/%E5%A5%BD%E7%94%A8%E7%9A%84SDK%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7SDKMAN/"><img src="https://cdn.nlark.com/yuque/0/2024/png/26851474/1717847527740-e406770f-ab02-419a-8c64-d78f52219b65.png#averageHue=%231b2434&amp;clientId=ud47ac080-2acd-4&amp;from=paste&amp;height=646&amp;id=u72b1526c&amp;originHeight=646&amp;originWidth=1090&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=156351&amp;status=done&amp;style=none&amp;taskId=ude12eecf-08b7-4672-893f-a540cc237fa&amp;title=&amp;width=1090" referrerpolicy="no-referrer" alt="好用的SDK版本管理工具SDKMAN"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-06-08T12:02:00.000Z">2024-06-08</time></p><p class="title"><a href="/2024/06/08/%E5%B7%A5%E5%85%B7/%E5%A5%BD%E7%94%A8%E7%9A%84SDK%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7SDKMAN/">好用的SDK版本管理工具SDKMAN</a></p><p class="categories"><a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/05/20/%E5%B7%A5%E5%85%B7/MAC%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/"><img src="https://cdn.nlark.com/yuque/0/2024/png/26851474/1716214891497-65b6cfba-69cd-48b3-a60a-ccbb4dd16c29.png#averageHue=%23161616&amp;clientId=uae23945b-ff17-4&amp;from=paste&amp;height=560&amp;id=u802ee7da&amp;originHeight=1120&amp;originWidth=2132&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=197291&amp;status=done&amp;style=none&amp;taskId=uf0861982-c749-4d93-b1c6-a25c4efc32d&amp;title=&amp;width=1066" referrerpolicy="no-referrer" alt="MAC命令行工具"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-05-20T13:59:00.000Z">2024-05-20</time></p><p class="title"><a href="/2024/05/20/%E5%B7%A5%E5%85%B7/MAC%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/">MAC命令行工具</a></p><p class="categories"><a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/image.png" alt="红兔哥的博客" height="28"></a><p class="is-size-7"><span>&copy; 2024 红兔哥</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://github.com/reboot1921",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script src="/js/pjax.js"></script><!--!--><!--!--><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>